{"version":3,"sources":["helpers/http.js","ui/Loader/Loader.js","ui/Button/Button.js","helpers/format.js","ui/Panel/Panel.js","components/AnyRates/AnyRate.js","components/Rates.js","ui/MainPanel/MainPanel.js","App.js","reportWebVitals.js","index.js","ui/Panel/Panel.module.css","ui/MainPanel/MainPanel.module.css"],"names":["getRate","path","a","fetch","method","response","ok","Error","statusText","json","Loader","Button","onClick","children","evt","rub","value","currency","toFixed","pattern","symbol","format","replace","Panel","title","useState","collapsed","setCollapsed","className","styles","containerCollapsed","container","caption","prevState","toggle","content","propsType","PropsTypes","string","node","AnyRate","data","Valute","USD","Name","Value","Previous","EUR","Rates","updateDate","setData","loader","setLoader","error","setError","loadData","handleReload","useEffect","dateStamp","newDate","Date","getHours","getMinutes","getDate","getMonth","getFullYear","formatDate","style","PropTypes","func","MainPanel","App","date","setDate","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"+NAAaA,EAAO,uCAAG,WAAOC,GAAP,eAAAC,EAAA,sEACIC,MAAMF,EAAM,CAACG,OAAQ,QADzB,WACbC,EADa,QAELC,GAFK,sBAGT,IAAIC,MAAMF,EAASG,YAHV,uBAKNH,EAASI,OALH,mFAAH,sD,OCULC,EARA,WACX,OACI,4HCuBOC,EAxBA,SAAC,GAAyB,IAAxBC,EAAuB,EAAvBA,QAASC,EAAc,EAAdA,SAUtB,OACI,8BACI,wBAAQD,QATI,SAACE,GACM,oBAAZF,GAGXA,EAAQE,IAKJ,SACKD,O,iBCdJE,EAAM,SAACC,GAChB,OAAQC,IAASD,EAAME,QAAQ,GAAI,CAC/BC,QAAQ,MACRC,OAAQ,WACTC,SAASC,QAAQ,IAAK,M,gCCFvBC,EAAQ,SAAC,GAAuB,IAAtBC,EAAqB,EAArBA,MAAOX,EAAc,EAAdA,SACnB,EAAkCY,oBAAS,GAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KAMA,OACI,sBAAKC,UAAYF,EAA+BG,IAAOC,mBAA1BD,IAAOE,UAApC,UACI,sBAAKH,UAAWC,IAAOG,QAASpB,QANpB,WAChBe,GAAa,SAACM,GAAD,OAAgBA,MAKzB,UACI,oBAAIL,UAAWC,IAAOL,MAAtB,SAA8BA,IAC9B,qBAAKI,UAAWC,IAAOK,YAE3B,qBAAKN,UAAWC,IAAOM,QAAvB,SACKtB,QAMjBU,EAAMa,UAAY,CACdZ,MAAOa,IAAWC,OAClBzB,SAAUwB,IAAWE,MAGVhB,QCRAiB,EAfC,SAAC,GAAY,IAAXC,EAAU,EAAVA,KACd,OACI,gCACA,eAAC,EAAD,CAAOjB,MAAOiB,EAAKC,OAAOC,IAAIC,KAA9B,UACI,sBAAKhB,UAAU,OAAf,yDAAgCb,EAAI0B,EAAKC,OAAOC,IAAIE,UACpD,sBAAKjB,UAAU,OAAf,yDAAgCb,EAAI0B,EAAKC,OAAOC,IAAIG,gBAExD,eAAC,EAAD,CAAOtB,MAAOiB,EAAKC,OAAOK,IAAIH,KAA9B,UACI,sBAAKhB,UAAU,OAAf,yDAAgCb,EAAI0B,EAAKC,OAAOK,IAAIF,UACpD,sBAAKjB,UAAU,OAAf,yDAAgCb,EAAI0B,EAAKC,OAAOK,IAAID,oBCR1DE,EAAQ,SAAC,GAAkB,IAAjBC,EAAgB,EAAhBA,WAWZ,MAAwBxB,mBAAS,MAAjC,mBAAOgB,EAAP,KAAaS,EAAb,KACA,EAA4BzB,oBAAS,GAArC,mBAAO0B,EAAP,KAAeC,EAAf,KACA,EAA0B3B,mBAAS,MAAnC,mBAAO4B,EAAP,KAAcC,EAAd,KAEMC,EAAQ,uCAAG,sBAAArD,EAAA,6DACbkD,GAAU,GACVE,EAAS,MAFI,cAIVJ,EAJU,SAIIlD,EAAQ,8CAJZ,oFAOTkD,EAAQ,MACRI,EAAS,EAAD,IARC,yBAWTF,GAAU,GAXD,6EAAH,qDAcRI,EAAe,WACnBD,KAOF,OAJAE,qBAAU,WACNF,MACG,IAEHJ,EAGI,mCACI,cAAC,EAAD,MAKRE,EAEI,qCACI,4HACA,cAAC,EAAD,CAAQzC,QAAS4C,EAAjB,iEAIC,OAATf,GACAQ,EArDJ,SAAoBS,GAEhB,IAAMC,EAAU,IAAIC,KAAKF,GACzB,MAAM,GAAN,OACOC,EAAQE,WADf,YAC6BF,EAAQG,aADrC,0BAEMH,EAAQI,UAFd,YAE2BJ,EAAQK,WAAa,EAFhD,YAEqDL,EAAQM,eAgDlDC,CAAWzB,EAAKmB,OAEvB,qCACI,cAAC,EAAD,CAASnB,KAAMA,IACf,qBAAK0B,MAAO,CAAC,cAAc,OAA3B,SACI,cAAC,EAAD,CAAQvD,QAAS4C,EAAjB,yEANhB,GAaJR,EAAMZ,UAAY,CACda,WAAYmB,IAAUC,MAGXrB,Q,gBC1ETsB,EAAY,SAAC,GAAuB,IAAtB9C,EAAqB,EAArBA,MAAOX,EAAc,EAAdA,SACvB,EAAkCY,oBAAS,GAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KAMA,OACI,sBAAKC,UAAYF,EAA+BG,IAAOC,mBAA1BD,IAAOE,UAApC,UACI,sBAAKH,UAAWC,IAAOG,QAASpB,QANpB,WAChBe,GAAa,SAACM,GAAD,OAAgBA,MAKzB,UACI,oBAAIL,UAAWC,IAAOL,MAAtB,SAA8BA,IAC9B,qBAAKI,UAAWC,IAAOK,YAE3B,qBAAKN,UAAWC,IAAOM,QAAvB,SACKtB,QAMjByD,EAAUlC,UAAY,CAClBZ,MAAOa,IAAWC,OAClBzB,SAAUwB,IAAWE,MAGV+B,QCLAC,EAnBH,WAER,MAAwB9C,mBAAS,MAAjC,mBAAO+C,EAAP,KAAaC,EAAb,KAKA,OACI,8BACI,eAAC,EAAD,CAAWjD,MAAM,0DAAjB,UACI,cAAC,EAAD,CAAOyB,WAPA,SAACR,GAChBgC,EAAQhC,MAOA,sBAAK0B,MAAO,CAAC,cAAc,OAA3B,mIAC4BK,EAD5B,aCJDE,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,K,kBCfAc,EAAOC,QAAU,CAAC,UAAY,yBAAyB,QAAU,uBAAuB,MAAQ,qBAAqB,OAAS,sBAAsB,QAAU,uBAAuB,mBAAqB,oC,kBCA1MD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,QAAU,2BAA2B,MAAQ,yBAAyB,OAAS,0BAA0B,QAAU,2BAA2B,mBAAqB,yC","file":"static/js/main.11a5f907.chunk.js","sourcesContent":["export const getRate = async (path) => {\r\n    const response = await fetch(path, {method: 'GET',});\r\n    if (!response.ok) {\r\n        throw new Error(response.statusText);\r\n    }\r\n    return await response.json();\r\n};\r\n\r\n","import React from 'react';\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <div>\r\n            Загрузка данных...\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Loader;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({onClick, children}) => {\r\n    // получаем пропсами функцию, которая вызывается при клике\r\n    // и дочерний компонент, который будет отрисован на кнопке\r\n    const handleClick = (evt) => {\r\n        if (typeof onClick !== 'function') {\r\n            return;\r\n        }\r\n        onClick(evt);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <button onClick={handleClick}>\r\n                {children}\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func,\r\n    children: PropTypes.node,\r\n};\r\n\r\nexport default Button;\r\n","import currency from 'currency.js';\r\n\r\nexport const rub = (value) => {\r\n    return (currency(value.toFixed(3), {\r\n        pattern: `# !`,\r\n        symbol: '₽',\r\n    }).format().replace('.', ','));\r\n};","import React, {useState} from 'react';\r\nimport PropsTypes from 'prop-types';\r\nimport styles from './Panel.module.css';\r\n\r\nconst Panel = ({title, children}) => {\r\n    const [collapsed, setCollapsed] = useState(true);\r\n\r\n    const handleClick = () => {\r\n        setCollapsed((prevState) => !prevState);\r\n    };\r\n\r\n    return (\r\n        <div className={!collapsed ? styles.container : styles.containerCollapsed}>\r\n            <div className={styles.caption} onClick={handleClick}>\r\n                <h3 className={styles.title}>{title}</h3>\r\n                <div className={styles.toggle}/>\r\n            </div>\r\n            <div className={styles.content}>\r\n                {children}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nPanel.propsType = {\r\n    title: PropsTypes.string,\r\n    children: PropsTypes.node,\r\n};\r\n\r\nexport default Panel;","import React from 'react';\r\nimport {rub} from '../../helpers/format';\r\nimport Panel from '../../ui/Panel/Panel';\r\n\r\n/* TODO: data.map() for any panelcount */\r\n\r\nconst AnyRate = ({data}) => {\r\n    return (\r\n        <div>\r\n        <Panel title={data.Valute.USD.Name}>\r\n            <div className=\"body\">Покупка: {rub(data.Valute.USD.Value)}</div>\r\n            <div className=\"body\">Продажа: {rub(data.Valute.USD.Previous)}</div>\r\n        </Panel>\r\n        <Panel title={data.Valute.EUR.Name}>\r\n            <div className=\"body\">Покупка: {rub(data.Valute.EUR.Value)}</div>\r\n            <div className=\"body\">Продажа: {rub(data.Valute.EUR.Previous)}</div>\r\n        </Panel>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AnyRate;","import React, {useEffect, useState} from 'react';\r\nimport {getRate} from '../helpers/http';\r\nimport Loader from '../ui/Loader/Loader';\r\nimport Button from '../ui/Button/Button';\r\nimport AnyRate from './AnyRates/AnyRate';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Rates = ({updateDate}) => {\r\n\r\n    function formatDate(dateStamp) {\r\n        // создание объекта типа Date на основе строки\r\n        const newDate = new Date(dateStamp);\r\n        return (\r\n            `${newDate.getHours()}:${newDate.getMinutes()} \r\n            ${newDate.getDate()}.${newDate.getMonth() + 1}.${newDate.getFullYear()}`\r\n        );\r\n    };\r\n\r\n    const [data, setData] = useState(null);\r\n    const [loader, setLoader] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    const loadData = async () => {\r\n        setLoader(true);\r\n        setError(null);\r\n        try {\r\n           setData(await getRate('https://www.cbr-xml-daily.ru/daily_json.js'));\r\n        }\r\n        catch (e) {\r\n            setData(null);\r\n            setError(e);\r\n        }\r\n        finally {\r\n            setLoader(false);\r\n        }\r\n    };\r\n    const handleReload = () => {\r\n      loadData();\r\n    };\r\n\r\n    useEffect(() => {\r\n        loadData();\r\n        }, []);\r\n\r\n    if (loader)\r\n    {\r\n        return (\r\n            <>\r\n                <Loader/>\r\n            </>\r\n        );\r\n    }\r\n\r\n    if (error) {\r\n        return (\r\n            <>\r\n                <p>Произошла ошибка</p>\r\n                <Button onClick={handleReload}>Обновить</Button>\r\n            </>\r\n        );\r\n    }\r\n    if (data !== null) {\r\n        updateDate(formatDate(data.Date));\r\n        return (\r\n            <>\r\n                <AnyRate data={data} />\r\n                <div style={{'margin-left':'36%'}}>\r\n                    <Button onClick={handleReload}>Обновить</Button>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n};\r\n\r\nRates.propsType = {\r\n    updateDate: PropTypes.func,\r\n};\r\n\r\nexport default Rates;","import React, {useState} from 'react';\r\nimport PropsTypes from 'prop-types';\r\nimport styles from './MainPanel.module.css';\r\n\r\nconst MainPanel = ({title, children}) => {\r\n    const [collapsed, setCollapsed] = useState(true);\r\n\r\n    const handleClick = () => {\r\n        setCollapsed((prevState) => !prevState);\r\n    };\r\n\r\n    return (\r\n        <div className={!collapsed ? styles.container : styles.containerCollapsed}>\r\n            <div className={styles.caption} onClick={handleClick}>\r\n                <h3 className={styles.title}>{title}</h3>\r\n                <div className={styles.toggle}/>\r\n            </div>\r\n            <div className={styles.content}>\r\n                {children}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nMainPanel.propsType = {\r\n    title: PropsTypes.string,\r\n    children: PropsTypes.node,\r\n};\r\n\r\nexport default MainPanel;","import React, {useState} from 'react';\nimport Rates from './components/Rates';\nimport MainPanel from './ui/MainPanel/MainPanel';\nimport PropTypes from 'prop-types';\n\nconst App = () => {\n\n    const [date, setDate] = useState(null);\n    const updateDate = (data) => {\n        setDate(data);\n    };\n\n    return (\n        <div>\n            <MainPanel title=\"Курс валют\">\n                <Rates updateDate={updateDate}/>\n                <div style={{'margin-left':'10%'}}>\n                    (последнее обновление: {date})\n                </div>\n            </MainPanel>\n        </div>\n    );\n};\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Panel_container__1AOHy\",\"caption\":\"Panel_caption__3gTdl\",\"title\":\"Panel_title__1d9lt\",\"toggle\":\"Panel_toggle__E9dn_\",\"content\":\"Panel_content__3rEoc\",\"containerCollapsed\":\"Panel_containerCollapsed__3JKUR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MainPanel_container__1mJMg\",\"caption\":\"MainPanel_caption__3uZvk\",\"title\":\"MainPanel_title__2TKRD\",\"toggle\":\"MainPanel_toggle__1ebw6\",\"content\":\"MainPanel_content__2jtvd\",\"containerCollapsed\":\"MainPanel_containerCollapsed__1LSA3\"};"],"sourceRoot":""}